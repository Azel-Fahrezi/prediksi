{% extends 'base.html' %}
{% block content %}
<h3>Metrik Evaluasi Model</h3>
<hr>

<h4>SVM Metrics</h4>
<table class="table table-bordered">
    <thead>
        <tr>
            <th>Metric</th>
            <th>Training</th>
            <th>Validation</th>
            <th>Difference (%)</th>
        </tr>
    </thead>
    <tbody>
        {% if metrics_svm['Training Metrics'] %}
        <tr>
            <td>RMSE (Root Mean Squared Error)</td>
            <td>{{ metrics_svm['Training Metrics']['RMSE'] }}</td>
            <td>{{ metrics_svm['Validation Metrics']['RMSE'] }}</td>
            <td>{{ ((metrics_svm['Validation Metrics']['RMSE'] - metrics_svm['Training Metrics']['RMSE']) / metrics_svm['Training Metrics']['RMSE']) * 100 | round(2) }}</td>
        </tr>
        <tr>
            <td>MSE (Mean Squared Error)</td>
            <td>{{ metrics_svm['Training Metrics']['MSE'] }}</td>
            <td>{{ metrics_svm['Validation Metrics']['MSE'] }}</td>
            <td>{{ ((metrics_svm['Validation Metrics']['MSE'] - metrics_svm['Training Metrics']['MSE']) / metrics_svm['Training Metrics']['MSE']) * 100 | round(2) }}</td>
        </tr>
        <tr>
            <td>MAPE (Mean Absolute Percentage Error)</td>
            <td>{{ metrics_svm['Training Metrics']['MAPE'] }}</td>
            <td>{{ metrics_svm['Validation Metrics']['MAPE'] }}</td>
            <td>{{ ((metrics_svm['Validation Metrics']['MAPE'] - metrics_svm['Training Metrics']['MAPE']) / metrics_svm['Training Metrics']['MAPE']) * 100 | round(2) }}</td>
        </tr>
        <tr>
            <td>R² Score (Accuracy)</td>
            <td>{{ metrics_svm['Training Metrics']['R2'] }}</td>
            <td>{{ metrics_svm['Validation Metrics']['R2'] }}</td>
            <td>{{ ((metrics_svm['Validation Metrics']['R2'] - metrics_svm['Training Metrics']['R2']) / metrics_svm['Training Metrics']['R2']) * 100 | round(2) }}</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="4">Data SVM tidak tersedia.</td>
        </tr>
        {% endif %}
    </tbody>
</table>

<h4>ANN Metrics</h4>
<table class="table table-bordered">
    <thead>
        <tr>
            <th>Metric</th>
            <th>Training</th>
            <th>Validation</th>
            <th>Difference (%)</th>
        </tr>
    </thead>
    <tbody>
        {% if metrics_ann['Training Metrics'] %}
        <tr>
            <td>RMSE (Root Mean Squared Error)</td>
            <td>{{ metrics_ann['Training Metrics']['RMSE'] }}</td>
            <td>{{ metrics_ann['Validation Metrics']['RMSE'] }}</td>
            <td>{{ ((metrics_ann['Validation Metrics']['RMSE'] - metrics_ann['Training Metrics']['RMSE']) / metrics_ann['Training Metrics']['RMSE']) * 100 | round(2) }}</td>
        </tr>
        <tr>
            <td>MSE (Mean Squared Error)</td>
            <td>{{ metrics_ann['Training Metrics']['MSE'] }}</td>
            <td>{{ metrics_ann['Validation Metrics']['MSE'] }}</td>
            <td>{{ ((metrics_ann['Validation Metrics']['MSE'] - metrics_ann['Training Metrics']['MSE']) / metrics_ann['Training Metrics']['MSE']) * 100 | round(2) }}</td>
        </tr>
        <tr>
            <td>MAPE (Mean Absolute Percentage Error)</td>
            <td>{{ metrics_ann['Training Metrics']['MAPE'] }}</td>
            <td>{{ metrics_ann['Validation Metrics']['MAPE'] }}</td>
            <td>{{ ((metrics_ann['Validation Metrics']['MAPE'] - metrics_ann['Training Metrics']['MAPE']) / metrics_ann['Training Metrics']['MAPE']) * 100 | round(2) }}</td>
        </tr>
        <tr>
            <td>R² Score (Accuracy)</td>
            <td>{{ metrics_ann['Training Metrics']['R2'] }}</td>
            <td>{{ metrics_ann['Validation Metrics']['R2'] }}</td>
            <td>{{ ((metrics_ann['Validation Metrics']['R2'] - metrics_ann['Training Metrics']['R2']) / metrics_ann['Training Metrics']['R2']) * 100 | round(2) }}</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="4">Data ANN tidak tersedia.</td>
        </tr>
        {% endif %}
    </tbody>
</table>
{% endblock %}
